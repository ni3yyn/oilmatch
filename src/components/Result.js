import React from 'react';
import '../Quiz.css';

function Result({ blend }) {
  const descriptions = {
    "ุฒูุช ุงูุฌูุฌูุจุง": "ููุงุณุจ ุงููุฑูุฉ ุงูุฏูููุฉ ุจูุถู ูุฏุฑุชู ุนูู ููุงุฒูุฉ ุงูุฒููุช ุงูุทุจูุนูุฉ.",
    "ุฒูุช ุจุฐูุฑ ุงูููุทูู": "ููุชุงุฒ ูุชุณุงูุท ุงูุดุนุฑ ููุนุฒุฒ ุงููุซุงูุฉ.",
    "ุฒูุช ุงูุฃุฑุบุงู": "ูุฑุทุจ ุงูุดุนุฑ ุงูุฌุงู ููุถูู ููุนุงูุงู.",
    "ุฒูุช ุฅูููู ุงูุฌุจู": "ููุดุท ุงูุฏูุฑุฉ ุงูุฏูููุฉ ูุฏุนู ุงูููู.",
    "ุฒูุช ุงููุนูุงุน": "ููุนุด ุงููุฑูุฉ ุงูุฏูููุฉ ููููู ุงูุฌุฐูุฑ.",
    "ุฒูุช ุงูุฎุฑูุน": "ูููู ูุนุงู ููุดุนุฑ ุงูุถุนูู ูุงููุชุณุงูุท.",
    "ุฒูุช ุงูุญุจุฉ ุงูุณูุฏุงุก": "ูุณุงุนุฏ ุนูู ููู ุงูุดุนุฑ ููููู ุงูุงูุชูุงุจุงุช.",
    "ุฒูุช ุจุฐูุฑ ุงูุนูุจ": "ุฎูุงุฑ ุฎููู ูุฑุทุจ ุจุฏูู ุฅุซูุงู ุงููุฑูุฉ.",
    "ุฒูุช ุงูููู": "ูุญุงุฑุจ ุงููุดุฑุฉ ูุงููุทุฑูุงุช ุจุดูู ููู.",
    "ุฒูุช ุดุฌุฑ ุงูุดุงู": "ูุทูุฑ ุทุจูุนู ูููุฑูุฉ ุถุฏ ุงููุดุฑุฉ.",
    "ุฒูุช ุงูุฎุฒุงูู": "ููุฏุฆ ูููุฑูุฉ ูุน ููุณุฉ ุนุทุฑูุฉ ูููุฒุฉ.",
    "ุฒูุช ุงูุฎุฑูุน ุงูุฃุณูุฏ": "ูุฏุนู ุงูุชูุซูู ูู ููุงุทู ุงูุดุนุฑ ุงูุฎููู.",
    "ุฒูุช ุงูููุฒ ุงูุญูู": "ูุทูู ููุดุนุฑ ุงูุฌุงู ูุน ุชุบุฐูุฉ ุนุงููุฉ.",
    "ุฒูุช ุงูุฃูููุงุฏู": "ุงูุฃูุถู ูุชุฑุทูุจ ุนููู ููุดุนุฑ ุงูุฌุงู ุฌุฏุงู."
  };

  const icons = {
    "ุฒูุช ุงูุฌูุฌูุจุง": "๐ง",
    "ุฒูุช ุจุฐูุฑ ุงูููุทูู": "๐",
    "ุฒูุช ุงูุฃุฑุบุงู": "๐ฐ",
    "ุฒูุช ุฅูููู ุงูุฌุจู": "๐ฟ",
    "ุฒูุช ุงููุนูุงุน": "๐",
    "ุฒูุช ุงูุฎุฑูุน": "๐ฑ",
    "ุฒูุช ุงูุญุจุฉ ุงูุณูุฏุงุก": "โซ",
    "ุฒูุช ุจุฐูุฑ ุงูุนูุจ": "๐",
    "ุฒูุช ุงูููู": "๐ณ",
    "ุฒูุช ุดุฌุฑ ุงูุดุงู": "๐ฒ",
    "ุฒูุช ุงูุฎุฒุงูู": "๐",
    "ุฒูุช ุงูุฎุฑูุน ุงูุฃุณูุฏ": "๐ค",
    "ุฒูุช ุงูููุฒ ุงูุญูู": "๐ธ",
    "ุฒูุช ุงูุฃูููุงุฏู": "๐ฅ"
  };

  const blendArray = JSON.parse(blend);

  return (
    <div className="quiz-container glassy animate-fade-slide" style={{ padding: '40px 25px' }}>
      <h3 className="result-intro">:ุฃุญุณูุช! ูุงูู ุงููุชูุฌุฉ</h3>

      <svg width="0" height="0" style={{ position: 'absolute' }}>
        <defs>
          <linearGradient id="oilGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" className="oil-progress-start" />
            <stop offset="100%" className="oil-progress-end" />
          </linearGradient>
        </defs>
      </svg>

      <ul className="oil-list">
        {blendArray.map((oil, index) => {
          const offset = 100 - oil.percentage;
          return (
            <li key={index} className="oil-item">
              <span className="oil-icon">{icons[oil.name] || "๐ฟ"}</span>
              <div className="oil-text">
                <h4>{oil.name}</h4>
                <p>{descriptions[oil.name]}</p>
              </div>
              <div className="circular-progress-container">
                <svg viewBox="0 0 36 36" className="circular-progress-svg">
                  <path
                    className="circular-progress-track"
                    d="M18 2.0845
                      a 15.9155 15.9155 0 0 1 0 31.831
                      a 15.9155 15.9155 0 0 1 0 -31.831"
                  />
                  <path
                    className="circular-progress-fill"
                    d="M18 2.0845
                      a 15.9155 15.9155 0 0 1 0 31.831
                      a 15.9155 15.9155 0 0 1 0 -31.831"
                    style={{ '--progress-offset': offset }}
                  />
                </svg>
                <div className="circular-percentage-text">
                  {oil.percentage}%
                </div>
              </div>
            </li>
          );
        })}
      </ul>
    </div>
  );
}

export default Result;